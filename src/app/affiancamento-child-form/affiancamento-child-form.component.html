<p>affiancamento-child-form works!</p>
<style>
    input.ng-dirty.ng-invalid{border:2px solid #ff0000}
    input.ng-dirty.ng-valid{border:2px solid #43e092}
</style>
<form #form="ngForm" (ngSubmit)="addAuto(form)">
    <div class="bg-danger text-white p-2 mb-2" *ngIf="form.invalid && formSubmitted">Verificare i dati della form</div>
<div class="form-group ">
    <label>Marca</label>
    <input class="form-control" [(ngModel)]= "nuovaAuto.marca" name="marca" 
    #val1="ngModel"
    required minlength="2" pattern="^[A-Za-z]+$" />
    <ul class="text-danger" *ngIf="val1.dirty && val1.invalid">
        <li *ngFor="let error of getMessaggi(val1)">{{error}}</li>
        <!--
        <li *ngIf="val1.errors?.required">
            Dato Richiesto
        </li>
        <li *ngIf="val1.errors?.pattern">
            La marca pu√≤ contenere solo caratteri alfabetici
        </li>
        <li *ngIf="val1.errors?.minlength">
            La marca deve essere lunga almeno 2 caratteri
        </li>
        -->
    </ul>
    <!--ul *ngIf="val1.dirty" class="text-danger">
        <li *ngIf="val1.errors?.required!">
            Dato richiesto
        </li>
        <li *ngIf="val1.errors?.pattern">
            Dati solo alfabetici
        </li>
        <li *ngIf="val1.errors?.minlength!">
            Lunghezza minima 2
        </li>
    </ul-->
</div>
<div class="form-group">
    <label>Modello</label>
    <input class="form-control"  #val2="ngModel"
    [(ngModel)]= "nuovaAuto.modello" name="modello" required minlength="2" pattern="^[A-Za-z0-9]+$" />
    <ul class="text-danger" *ngIf="val2.dirty && val2.invalid">
        <li *ngFor="let error of getMessaggi(val2)">{{error}}</li>
    </ul>
</div>
<div class="form-group">
    <label>Cilindrata</label>
    <input class="form-control"  #val3="ngModel" [(ngModel)]= "nuovaAuto.cilindrata" name="cilindrata" required minlength="4" pattern="^[0-9]+$" />
    <ul class="text-danger" *ngIf="val3.dirty && val3.invalid">
        <li *ngFor="let error of getMessaggi(val3)">{{error}}</li>
    </ul>
</div>
<div class="form-group">
    <label>Prezzo</label>
    <input class="form-control" #val4="ngModel" [(ngModel)]= "nuovaAuto.prezzo" name="prezzo" required />
    <ul class="text-danger" *ngIf="val4.dirty && val4.invalid">
        <li *ngFor="let error of getMessaggi(val4)">{{error}}</li>
    </ul>
</div>
<div class="form-group">
    <label>Targa</label>
    <input class="form-control" [(ngModel)]= "nuovaAuto.targa" name="targa"   required minlength="2" pattern="^[A-Za-z][A-Za-z][0-9][0-9][0-9][A-Za-z][A-Za-z]+$" />
</div>

<!--button class="btn btn-primary" (click)=addAuto()>Crea Auto</button-->
<button *ngIf="form.valid" class="btn btn-primary" type="submit()">Crea Auto</button>
<button *ngIf="form.invalid" class="btn btn-warning" type="submit()" disabled >Crea Auto</button>

</form>
